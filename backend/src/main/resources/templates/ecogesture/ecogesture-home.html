<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/main :: layout(~{::title}, ~{::meta%og}, ~{::main})}">
  <head>
    <title th:text="${page.title}">Ã‰cogestes</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta th:ref="og" property="og:title" th:attr="content=${page.title}" />
    <meta th:ref="og" property="og:description" th:attr="content=${page.content.presentation.text}" />
    <meta th:ref="og" property="og:image" th:attr="content=@{/images/{imageId}/image(imageId=${page.content.image.imageId})}" />
  </head>

  <body>
    <main th:object="${page.content}">
      <h1 th:text="*{title.text}">Title</h1>
      <p th:text="*{presentation.text}">Presentation</p>
      <img th:src="@{/images/{imageId}/image(imageId=*{image.imageId})}" th:alt="*{image.alt}" />

      <!-- TODO categories -->
      <div th:each="gesturePage : ${gesturePages}">
        <a th:href="@{/ecogestes/{gesture}(gesture=${gesturePage.name})}" class="ecogesture-link">
          <img
            th:src="@{/images/{imageId}/image(imageId=${gesturePage.content.presentation.image.imageId})}"
            th:alt="${gesturePage.content.presentation.image.alt}"
          />
        </a>
        <p th:text="${gesturePage.content.presentation.name.text}"></p>
      </div>
    </main>
  </body>
</html>
